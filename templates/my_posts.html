{% extends 'base.html' %}

{% block content %}
    <h1>Quản lý bài viết của tôi</h1>
    <form method="POST">
        <table class="table">
            <thead>
                <tr>
                    <th><input type="checkbox" id="select-all" onclick="toggleCheckboxes(this)"></th>
                    <th>ID</th>
                    <th>Tiêu đề</th>
                    <th>Ngày đăng</th>
                    <th>Trạng thái</th>
                </tr>
            </thead>
            <tbody>
                {% for post in posts %}
                    <tr>
                        <td><input type="checkbox" name="post_ids" value="{{ post.id }}"></td>
                        <td>{{ post.id }}</td>
                        <td>{{ post.title }}</td>
                        <td>{{ post.date }}</td>
                        <td>{{ post.task }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <button type="submit" class="btn btn-danger">Xóa các bài viết đã chọn</button>
    </form>

    <script>
        function toggleCheckboxes(source) {
            checkboxes = document.getElementsByName('post_ids');
            for (var i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = source.checked;
            }
        }
    </script>
{% endblock %}